@model BeePM.Models.FormTemplate

@{
    ViewBag.Title = "Form Designer";
    var fields = ViewBag.Fields as List<BeePM.Models.FormField> ?? new();
}

<h2>Form Designer - @Model.Name</h2>

<div class="row">
    <div class="col-md-6">
        <h4>Alan Ekle</h4>
        <form asp-action="AddField" method="post">
            <input type="hidden" name="templateId" value="@Model.Id" />

            <div class="mb-3">
                <label class="form-label">Etiket</label>
                <input type="text" class="form-control" name="label" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Alan Tipi</label>
                <select class="form-select" name="fieldType" required>
                    <option value="Textbox">Textbox</option>
                    <option value="Textarea">Textarea</option>
                    <option value="Combobox">Combobox</option>
                    <option value="Radio">Radio Button</option>
                    <option value="Checkbox">Checkbox</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Zorunlu mu?</label>
                <input type="checkbox" name="isRequired" value="true" />
            </div>

            <div class="mb-3">
                <label class="form-label">Opsiyonlar (virgülle)</label>
                <input type="text" class="form-control" name="options" placeholder="Laptop,Telefon,Tablet" />
            </div>

            <button type="submit" class="btn btn-primary">Alan Ekle</button>
        </form>
    </div>

    <div class="col-md-6">
        <h4>Mevcut Alanlar</h4>
        <ul class="list-group">
            @foreach (var field in fields)
            {
                <li class="list-group-item">
                    <b>@field.Label</b> (@field.FieldType)
                    @(field.IsRequired ? "[Zorunlu]" : "")
                    @if (!string.IsNullOrEmpty(field.Options))
                    {
                        <span>- Opsiyonlar: @field.Options</span>
                    }
                </li>
            }
        </ul>
    </div>
</div>
